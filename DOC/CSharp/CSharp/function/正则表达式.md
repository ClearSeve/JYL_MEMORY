# 正则表达式

using System.Text.RegularExpressions;

## 字符条件判断

```
 string str = "scca";

 Regex reg = new Regex("^s.*a$");
 if (reg.IsMatch(str))
 {
     Console.WriteLine("满足条件");
 }

Regex r = new Regex("abc");
MatchCollection matches = r.Matches("123abc45abcd");
foreach (Match match in matches)
{
    Console.WriteLine("{0} found at pos {1}", match.Value, match.Index);
    string str = match.Result("$&_r");//将匹配结果加上_r返回字符串
}
```

## 匹配内容

```
var input = "this _is#  a _big _apple#";
var pattern = @"_(\w+)#";//\w+表示一个单词(连续非特殊字符)     匹配句子中所有以_开头#结尾的单词   结果为is和apple         
Match match = Regex.Match(input, pattern);
while(match.Success)
{
    Console.WriteLine(match.Groups[1].Value);
    match = match.NextMatch();
}
string input = "Born: July 12, 1010";
//有三个括号，所以匹配出来后有三组外加总体的匹配字符
string pattern = @"(\w+)\s(\d{1,2}),\s(\d{4})";
Match match = Regex.Match(input, pattern);
if (match.Success)
{
    for (int ctr = 0; ctr < match.Groups.Count; ++ctr )
    {
        Console.WriteLine("group {0}: {1}", ctr, match.Groups[ctr].Value);
    }
}
```

## 替换

```
//将匹配出的12.34前加上价格
string pattern = @"\b\d+\.\d{2}\b";
//\b代表单词边界  \d+代表多个数字  \.代表.  d{2}代表两个数字
//匹配带小数点两位的数字
string replacement = "价格$&";//$&代表匹配上的内容 $是特殊转义字符 输出$用$$
string input = "apple: 12.34  banana: 6.5"; 
Console.WriteLine(Regex.Replace(input, pattern, replacement));
```

## 拆分

```
string input = "1.aa   2.bb   3.cc";
string pattern = @"\b\d+\.";//匹配序号加.
foreach(string item in Regex.Split(input,pattern))
{
    if (!String.IsNullOrEmpty(item))
        Console.WriteLine(item);
}
```
