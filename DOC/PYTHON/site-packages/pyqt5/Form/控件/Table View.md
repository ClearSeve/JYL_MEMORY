# Table View

## 数据设置

```python
from PyQt5.QtGui import QStandardItemModel,QStandardItem

self.model=QStandardItemModel()
self.model.setHorizontalHeaderLabels(['姓名','年龄'])
self.model.setItem(0,0,QStandardItem('AA')) 
self.model.setItem(0,1,QStandardItem('10')) 
self.model.setItem(1,0,QStandardItem('BB'))  
self.model.setItem(1,1,QStandardItem('11'))  
self.model.setItem(2,0,QStandardItem('CC'))  
self.model.setItem(2,1,QStandardItem('12'))  
self.dataTV.setModel(self.model)
self.dataTV.horizontalHeader().setSectionResizeMode(QtWidgets.QHeaderView.Stretch)#所有列自动拉伸，充满界面
self.dataTV.setEditTriggers(QtWidgets.QTableView.NoEditTriggers)#不可编辑
self.dataTV.setSelectionMode(QtWidgets.QAbstractItemView.SingleSelection)#设置只能选中一行
self.dataTV.setSelectionBehavior(QtWidgets.QAbstractItemView.SelectRows);#设置只有行选中
```

## 添加数据

self.model.appendRow([QStandardItem('XX'),QStandardItem('100')]) 


## 选择数据

```python
r = self.dataTV.selectionModel().selectedRows()#获取被选中行
if not r: return
index=self.dataTV.currentIndex() #选中多行中的最后一行
row = index.row() # 被选中的行号
```

## 获取被选中的行中的列数据

ind = self.model.index(row,0)
name = self.model.data(ind)
ind = self.model.index(row,1)
age = self.model.data(ind)

## 删除数据

删除第row行
self.model.removeRow(row) 

## 双击事件响应

```python
self.dataTV.doubleClicked.connect(self.table_change)  

def table_change(self, index):
        row = index.row()
```

